{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const STORAG_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\nconst textarea = form.querySelector('textarea');\n\nform.addEventListener('input', () => {\n    const userEmail = form.elements.email.value.trim();\n    const userMessage = form.elements.message.value.trim();\n  \n    const data = {\n        email: userEmail,\n        message: userMessage,\n    }\n\n    saveToLs(STORAG_KEY, data);\n});\n\n\nform.addEventListener('submit', e => {\n    e.preventDefault();\n\n    if (form.elements.email.value === \"\" || form.elements.message.value === \"\") {\n        return alert('All form fields must be filled in');\n    }\n        \n    const data = loadFromLs(STORAG_KEY) || {};\n    console.log(data);\n    \n    localStorage.removeItem(STORAG_KEY);\n    form.reset();\n\n})\n\nfunction loadFromLs(key = 'empty') {\n    const data = localStorage.getItem(key);\n\n    try {\n        const result = JSON.parse(data);\n        return result;\n    } catch {\n        return data;\n    }\n}\n\nfunction saveToLs(key, value) {\n    const jsonData = JSON.stringify(value);\n    localStorage.setItem(key, jsonData);\n}\n\nfunction restoreData() {\n    const data = loadFromLs(STORAG_KEY) || {};\n\n    form.elements.email.value = data.email || '';\n    form.elements.message.value = data.message || '';\n}\n\nrestoreData();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// function saveToLs(key, value) {\n//   const jsonData = JSON.stringify(value);\n//   localStorage.setItem(key, jsonData);\n// }\n\n// function loadFromLs(key) {\n//   const data = localStorage.getItem(key);\n\n//   try {\n//     const result = JSON.parse(data);\n//     return result;\n//   } catch {\n//     return data;\n//   }\n// }\n\n// function restoreData() {\n//   const data = loadFromLs(storagKey) || {};\n\n//   form.elements.email.value = (data.email || '').trim();\n//   form.elements.message.value = (data.message || '').trim();\n// }\n// restoreData();"],"names":["STORAG_KEY","form","userEmail","userMessage","saveToLs","data","loadFromLs","key","value","jsonData","restoreData"],"mappings":"wFAAA,MAAMA,EAAa,sBAEbC,EAAO,SAAS,cAAc,gBAAgB,EACnCA,EAAK,cAAc,UAAU,EAE9CA,EAAK,iBAAiB,QAAS,IAAM,CACjC,MAAMC,EAAYD,EAAK,SAAS,MAAM,MAAM,OACtCE,EAAcF,EAAK,SAAS,QAAQ,MAAM,OAOhDG,EAASJ,EALI,CACT,MAAOE,EACP,QAASC,CACZ,CAEwB,CAC7B,CAAC,EAGDF,EAAK,iBAAiB,SAAU,GAAK,CAGjC,GAFA,EAAE,eAAc,EAEZA,EAAK,SAAS,MAAM,QAAU,IAAMA,EAAK,SAAS,QAAQ,QAAU,GACpE,OAAO,MAAM,mCAAmC,EAGpD,MAAMI,EAAOC,EAAWN,CAAU,GAAK,CAAA,EACvC,QAAQ,IAAIK,CAAI,EAEhB,aAAa,WAAWL,CAAU,EAClCC,EAAK,MAAK,CAEd,CAAC,EAED,SAASK,EAAWC,EAAM,QAAS,CAC/B,MAAMF,EAAO,aAAa,QAAQE,CAAG,EAErC,GAAI,CAEA,OADe,KAAK,MAAMF,CAAI,CAEtC,MAAY,CACJ,OAAOA,CACV,CACL,CAEA,SAASD,EAASG,EAAKC,EAAO,CAC1B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACtC,CAEA,SAASC,GAAc,CACnB,MAAML,EAAOC,EAAWN,CAAU,GAAK,CAAA,EAEvCC,EAAK,SAAS,MAAM,MAAQI,EAAK,OAAS,GAC1CJ,EAAK,SAAS,QAAQ,MAAQI,EAAK,SAAW,EAClD,CAEAK"}